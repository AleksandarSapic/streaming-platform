<mat-toolbar class="d-flex justify-content-between p-5 bg-primary-subtle">
  <span class="navbar-brand" [routerLink]="['/browse']">StreamPlatform</span>

  <div>
    <nav class="navbar navbar-expand-lg navbar-light bg-primary-subtle">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a [routerLink]="['/browse']"
             [routerLinkActive]="['active']"
             class="nav-link">Home</a>
        </li>
        <li class="nav-item active">
          <a [routerLink]="['/movies']"
             [routerLinkActive]="['active']"
             class="nav-link">Movies</a>
        </li>
        <li class="nav-item active">
          <a [routerLink]="['/series']"
             [routerLinkActive]="['active']"
             class="nav-link">Shows</a>
        </li>
        <li class="nav-item active">
          <a [routerLink]="['/my-list']"
             [routerLinkActive]="['active']"
             class="nav-link">My List</a>
        </li>
      </ul>
    </nav>
  </div>

  <div class="d-flex align-items-center gap-2">
    <mat-form-field appearance="outline">
      <mat-icon matPrefix>search</mat-icon>
      <input matInput placeholder="Search...">
    </mat-form-field>

    <button mat-icon-button [matMenuTriggerFor]="profileMenu">
      <mat-icon>account_circle</mat-icon>
    </button>

    <mat-menu #profileMenu="matMenu">
      <div class="px-3 py-2 text-center fw-bold">
        {{ currentUser()?.fullName }}
      </div>
      <mat-divider></mat-divider>
      <a mat-menu-item [routerLink]="['/account']">
        <mat-icon>person</mat-icon>
        <span>Visit Profile</span>
      </a>
      <button mat-menu-item (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span>Log Out</span>
      </button>
    </mat-menu>
  </div>
</mat-toolbar>

<!-- Popular Content Section -->
<app-content-section
  title="Popular Content"
  [content]="popularContent()"
  [isLoading]="isLoading()"
  [currentPage]="currentPage()"
  [totalPages]="totalPages()"
  (previousPage)="previousPage()"
  (nextPage)="nextPage()"
  (addToList)="addToMyList($event)">
</app-content-section>

<!-- Recent Content Section -->
<app-content-section
  title="Recent Content"
  [content]="recentContent()"
  [isLoading]="recentIsLoading()"
  [currentPage]="recentCurrentPage()"
  [totalPages]="recentTotalPages()"
  (previousPage)="previousRecentPage()"
  (nextPage)="nextRecentPage()"
  (addToList)="addToMyList($event)">
</app-content-section>
